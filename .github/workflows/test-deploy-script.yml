name: test-deploy-script
on:
    pull_request:
    push:

jobs:
  test-ssh:
    runs-on: self-hosted
    steps:
      - uses: appleboy/ssh-action@v1.0.0
        with:
            host: ${{ secrets.SSH_HOST }}
            username: ${{ secrets.SSH_USER }}
            port: ${{ secrets.SSH_PORT }}
            key: ${{ secrets.PRIVATE_SSH_KEY }}
            known_hosts: ${{ secrets.SSH_KNOW_HOST }}
            script: |
                echo "Hello world!"
                id
                touch a
